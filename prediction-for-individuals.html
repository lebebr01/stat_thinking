<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 8 Prediction for individuals | Statistical Reasoning through Computation and R</title>
  <meta name="description" content="Chapter 8 Prediction for individuals | Statistical Reasoning through Computation and R" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 8 Prediction for individuals | Statistical Reasoning through Computation and R" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="true" />
  
  
  <meta name="github-repo" content="lebebr01/stat_thinking" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 8 Prediction for individuals | Statistical Reasoning through Computation and R" />
  
  
  

<meta name="author" content="Brandon LeBeau and Andrew S. Zieffler" />


<meta name="date" content="2020-08-25" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="estimation-bootstrap-uncertainty.html"/>

<script src="libs/header-attrs-2.3/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.15/datatables.js"></script>
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-43425299-4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-43425299-4');
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Statistical Reasoning through Computation and R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#statistics-vs-data-science"><i class="fa fa-check"></i><b>1.1</b> Statistics vs Data Science</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#experiments-vs-observations"><i class="fa fa-check"></i><b>1.2</b> Experiments vs Observations</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#data-structure"><i class="fa fa-check"></i><b>1.3</b> Data Structure</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="visualization.html"><a href="visualization.html"><i class="fa fa-check"></i><b>2</b> Visualization</a>
<ul>
<li class="chapter" data-level="2.0.1" data-path="visualization.html"><a href="visualization.html#college-scorecard-data"><i class="fa fa-check"></i><b>2.0.1</b> College Scorecard Data</a></li>
<li class="chapter" data-level="2.0.2" data-path="visualization.html"><a href="visualization.html#view-the-data"><i class="fa fa-check"></i><b>2.0.2</b> View the Data</a></li>
<li class="chapter" data-level="2.1" data-path="visualization.html"><a href="visualization.html#exploring-attributes"><i class="fa fa-check"></i><b>2.1</b> Exploring Attributes</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="visualization.html"><a href="visualization.html#histograms"><i class="fa fa-check"></i><b>2.1.1</b> Histograms</a></li>
<li class="chapter" data-level="2.1.2" data-path="visualization.html"><a href="visualization.html#interpretting-histograms"><i class="fa fa-check"></i><b>2.1.2</b> Interpretting Histograms</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="visualization.html"><a href="visualization.html#plot-customization"><i class="fa fa-check"></i><b>2.2</b> Plot Customization</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="visualization.html"><a href="visualization.html#axes-labels"><i class="fa fa-check"></i><b>2.2.1</b> Axes labels</a></li>
<li class="chapter" data-level="2.2.2" data-path="visualization.html"><a href="visualization.html#plot-title-and-subtitle"><i class="fa fa-check"></i><b>2.2.2</b> Plot title and subtitle</a></li>
<li class="chapter" data-level="2.2.3" data-path="visualization.html"><a href="visualization.html#plot-theme"><i class="fa fa-check"></i><b>2.2.3</b> Plot theme</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="visualization.html"><a href="visualization.html#density-plots"><i class="fa fa-check"></i><b>2.3</b> Density plots</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="descriptive-statistics-numerically-describing-the-sample-data.html"><a href="descriptive-statistics-numerically-describing-the-sample-data.html"><i class="fa fa-check"></i><b>3</b> Descriptive Statistics: Numerically Describing the Sample Data</a>
<ul>
<li class="chapter" data-level="3.1" data-path="descriptive-statistics-numerically-describing-the-sample-data.html"><a href="descriptive-statistics-numerically-describing-the-sample-data.html#summarizing-attributes"><i class="fa fa-check"></i><b>3.1</b> Summarizing Attributes</a></li>
<li class="chapter" data-level="3.2" data-path="descriptive-statistics-numerically-describing-the-sample-data.html"><a href="descriptive-statistics-numerically-describing-the-sample-data.html#understanding-the-median-and-mean"><i class="fa fa-check"></i><b>3.2</b> Understanding the Median and Mean</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="descriptive-statistics-numerically-describing-the-sample-data.html"><a href="descriptive-statistics-numerically-describing-the-sample-data.html#summarize-with-the-mean-or-median"><i class="fa fa-check"></i><b>3.2.1</b> Summarize with the Mean or Median?</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="descriptive-statistics-numerically-describing-the-sample-data.html"><a href="descriptive-statistics-numerically-describing-the-sample-data.html#numerically-summarizing-variation"><i class="fa fa-check"></i><b>3.3</b> Numerically Summarizing Variation</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="descriptive-statistics-numerically-describing-the-sample-data.html"><a href="descriptive-statistics-numerically-describing-the-sample-data.html#range"><i class="fa fa-check"></i><b>3.3.1</b> Range</a></li>
<li class="chapter" data-level="3.3.2" data-path="descriptive-statistics-numerically-describing-the-sample-data.html"><a href="descriptive-statistics-numerically-describing-the-sample-data.html#percentile-range"><i class="fa fa-check"></i><b>3.3.2</b> Percentile Range</a></li>
<li class="chapter" data-level="3.3.3" data-path="descriptive-statistics-numerically-describing-the-sample-data.html"><a href="descriptive-statistics-numerically-describing-the-sample-data.html#interquartile-range-iqr"><i class="fa fa-check"></i><b>3.3.3</b> Interquartile Range (IQR)</a></li>
<li class="chapter" data-level="3.3.4" data-path="descriptive-statistics-numerically-describing-the-sample-data.html"><a href="descriptive-statistics-numerically-describing-the-sample-data.html#empirical-cumulative-density"><i class="fa fa-check"></i><b>3.3.4</b> Empirical Cumulative Density</a></li>
<li class="chapter" data-level="3.3.5" data-path="descriptive-statistics-numerically-describing-the-sample-data.html"><a href="descriptive-statistics-numerically-describing-the-sample-data.html#variance-and-standard-deviation"><i class="fa fa-check"></i><b>3.3.5</b> Variance and Standard Deviation</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="descriptive-statistics-numerically-describing-the-sample-data.html"><a href="descriptive-statistics-numerically-describing-the-sample-data.html#summarizing-categorical-attributes"><i class="fa fa-check"></i><b>3.4</b> Summarizing Categorical Attributes</a></li>
<li class="chapter" data-level="3.5" data-path="descriptive-statistics-numerically-describing-the-sample-data.html"><a href="descriptive-statistics-numerically-describing-the-sample-data.html#advanced-extension-computing-your-own-measure-of-variation"><i class="fa fa-check"></i><b>3.5</b> Advanced Extension: Computing Your Own Measure of Variation</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="multivariate-visualization.html"><a href="multivariate-visualization.html"><i class="fa fa-check"></i><b>4</b> Multivariate Visualization</a>
<ul>
<li class="chapter" data-level="4.1" data-path="multivariate-visualization.html"><a href="multivariate-visualization.html#multivariate-distributions"><i class="fa fa-check"></i><b>4.1</b> Multivariate Distributions</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="visualization.html"><a href="visualization.html#histograms"><i class="fa fa-check"></i><b>4.1.1</b> Histograms</a></li>
<li class="chapter" data-level="4.1.2" data-path="multivariate-visualization.html"><a href="multivariate-visualization.html#density-curves"><i class="fa fa-check"></i><b>4.1.2</b> Density Curves</a></li>
<li class="chapter" data-level="4.1.3" data-path="multivariate-visualization.html"><a href="multivariate-visualization.html#violin-plots"><i class="fa fa-check"></i><b>4.1.3</b> Violin Plots</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="multivariate-visualization.html"><a href="multivariate-visualization.html#faceting"><i class="fa fa-check"></i><b>4.2</b> Faceting</a></li>
<li class="chapter" data-level="4.3" data-path="multivariate-visualization.html"><a href="multivariate-visualization.html#multivariate-descriptive-statistics"><i class="fa fa-check"></i><b>4.3</b> Multivariate Descriptive Statistics</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="multivariate-visualization.html"><a href="multivariate-visualization.html#adding-additional-groups"><i class="fa fa-check"></i><b>4.3.1</b> Adding additional groups</a></li>
<li class="chapter" data-level="4.3.2" data-path="multivariate-visualization.html"><a href="multivariate-visualization.html#adding-more-descriptive-statistics"><i class="fa fa-check"></i><b>4.3.2</b> Adding more descriptive statistics</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="classification.html"><a href="classification.html"><i class="fa fa-check"></i><b>5</b> Classification</a>
<ul>
<li class="chapter" data-level="5.1" data-path="classification.html"><a href="classification.html#topic-decision-trees"><i class="fa fa-check"></i><b>5.1</b> Topic: Decision Trees</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="classification.html"><a href="classification.html#fitting-a-classification-tree"><i class="fa fa-check"></i><b>5.1.1</b> Fitting a Classification Tree</a></li>
<li class="chapter" data-level="5.1.2" data-path="classification.html"><a href="classification.html#pruning-trees"><i class="fa fa-check"></i><b>5.1.2</b> Pruning Trees</a></li>
<li class="chapter" data-level="5.1.3" data-path="classification.html"><a href="classification.html#accuracy"><i class="fa fa-check"></i><b>5.1.3</b> Accuracy</a></li>
<li class="chapter" data-level="5.1.4" data-path="classification.html"><a href="classification.html#comparison-to-baseline"><i class="fa fa-check"></i><b>5.1.4</b> Comparison to Baseline</a></li>
<li class="chapter" data-level="5.1.5" data-path="classification.html"><a href="classification.html#trainingtest-data"><i class="fa fa-check"></i><b>5.1.5</b> Training/Test Data</a></li>
<li class="chapter" data-level="5.1.6" data-path="classification.html"><a href="classification.html#introduction-to-resamplingbootstrap"><i class="fa fa-check"></i><b>5.1.6</b> Introduction to resampling/bootstrap</a></li>
<li class="chapter" data-level="5.1.7" data-path="classification.html"><a href="classification.html#cross-validation"><i class="fa fa-check"></i><b>5.1.7</b> Cross-validation</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="linear-model.html"><a href="linear-model.html"><i class="fa fa-check"></i><b>6</b> Linear Model</a>
<ul>
<li class="chapter" data-level="6.1" data-path="linear-model.html"><a href="linear-model.html#regression-trees"><i class="fa fa-check"></i><b>6.1</b> Regression Trees</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="linear-model.html"><a href="linear-model.html#visualize-distributions"><i class="fa fa-check"></i><b>6.1.1</b> Visualize distributions</a></li>
<li class="chapter" data-level="6.1.2" data-path="linear-model.html"><a href="linear-model.html#decision-tree---regression-tree"><i class="fa fa-check"></i><b>6.1.2</b> Decision Tree - Regression Tree</a></li>
<li class="chapter" data-level="6.1.3" data-path="linear-model.html"><a href="linear-model.html#evaluating-accuracy"><i class="fa fa-check"></i><b>6.1.3</b> Evaluating accuracy</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="linear-model.html"><a href="linear-model.html#simple-regression-continuous-predictor"><i class="fa fa-check"></i><b>6.2</b> Simple Regression continuous predictor</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="linear-model.html"><a href="linear-model.html#description-of-the-data"><i class="fa fa-check"></i><b>6.2.1</b> Description of the Data</a></li>
<li class="chapter" data-level="6.2.2" data-path="linear-model.html"><a href="linear-model.html#scatterplots"><i class="fa fa-check"></i><b>6.2.2</b> Scatterplots</a></li>
<li class="chapter" data-level="6.2.3" data-path="linear-model.html"><a href="linear-model.html#fitting-a-linear-regression-model"><i class="fa fa-check"></i><b>6.2.3</b> Fitting a linear regression model</a></li>
<li class="chapter" data-level="6.2.4" data-path="linear-model.html"><a href="linear-model.html#explore-the-y-intercept"><i class="fa fa-check"></i><b>6.2.4</b> Explore the y-intercept</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="linear-model.html"><a href="linear-model.html#conditional-means"><i class="fa fa-check"></i><b>6.3</b> Conditional Means</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="estimation-bootstrap-uncertainty.html"><a href="estimation-bootstrap-uncertainty.html"><i class="fa fa-check"></i><b>7</b> Estimation / Bootstrap / Uncertainty</a>
<ul>
<li class="chapter" data-level="7.1" data-path="estimation-bootstrap-uncertainty.html"><a href="estimation-bootstrap-uncertainty.html#estimating-error"><i class="fa fa-check"></i><b>7.1</b> Estimating Error</a></li>
<li class="chapter" data-level="7.2" data-path="estimation-bootstrap-uncertainty.html"><a href="estimation-bootstrap-uncertainty.html#categorical-predictors"><i class="fa fa-check"></i><b>7.2</b> Categorical Predictor(s)</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="estimation-bootstrap-uncertainty.html"><a href="estimation-bootstrap-uncertainty.html#mothers-smoking"><i class="fa fa-check"></i><b>7.2.1</b> Motherâ€™s smoking</a></li>
<li class="chapter" data-level="7.2.2" data-path="estimation-bootstrap-uncertainty.html"><a href="estimation-bootstrap-uncertainty.html#linear-regression---categorical-predictor"><i class="fa fa-check"></i><b>7.2.2</b> Linear Regression - Categorical Predictor</a></li>
<li class="chapter" data-level="7.2.3" data-path="estimation-bootstrap-uncertainty.html"><a href="estimation-bootstrap-uncertainty.html#inference"><i class="fa fa-check"></i><b>7.2.3</b> Inference</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="estimation-bootstrap-uncertainty.html"><a href="estimation-bootstrap-uncertainty.html#more-than-2-categorical-groups"><i class="fa fa-check"></i><b>7.3</b> More than 2 categorical groups</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="estimation-bootstrap-uncertainty.html"><a href="estimation-bootstrap-uncertainty.html#explore-distribution-3-groups"><i class="fa fa-check"></i><b>7.3.1</b> Explore distribution 3 groups</a></li>
<li class="chapter" data-level="7.3.2" data-path="estimation-bootstrap-uncertainty.html"><a href="estimation-bootstrap-uncertainty.html#overall-model-fit"><i class="fa fa-check"></i><b>7.3.2</b> Overall model fit</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="estimation-bootstrap-uncertainty.html"><a href="estimation-bootstrap-uncertainty.html#multiple-regression"><i class="fa fa-check"></i><b>7.4</b> Multiple Regression</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="estimation-bootstrap-uncertainty.html"><a href="estimation-bootstrap-uncertainty.html#interactions"><i class="fa fa-check"></i><b>7.4.1</b> Interactions</a></li>
<li class="chapter" data-level="7.4.2" data-path="estimation-bootstrap-uncertainty.html"><a href="estimation-bootstrap-uncertainty.html#evaluating-model-fit"><i class="fa fa-check"></i><b>7.4.2</b> Evaluating model fit</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="prediction-for-individuals.html"><a href="prediction-for-individuals.html"><i class="fa fa-check"></i><b>8</b> Prediction for individuals</a>
<ul>
<li class="chapter" data-level="8.1" data-path="prediction-for-individuals.html"><a href="prediction-for-individuals.html#comparison-of-classification-linear-model"><i class="fa fa-check"></i><b>8.1</b> Comparison of classification / linear model</a></li>
<li class="chapter" data-level="8.2" data-path="prediction-for-individuals.html"><a href="prediction-for-individuals.html#compared-linear-model-with-median"><i class="fa fa-check"></i><b>8.2</b> Compared linear model with median</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="prediction-for-individuals.html"><a href="prediction-for-individuals.html#skewed-data---inference"><i class="fa fa-check"></i><b>8.2.1</b> Skewed Data - Inference</a></li>
<li class="chapter" data-level="8.2.2" data-path="prediction-for-individuals.html"><a href="prediction-for-individuals.html#bootstrap-median"><i class="fa fa-check"></i><b>8.2.2</b> Bootstrap Median</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Statistical Reasoning through Computation and R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="prediction-for-individuals" class="section level1" number="8">
<h1><span class="header-section-number">Chapter 8</span> Prediction for individuals</h1>
<div id="comparison-of-classification-linear-model" class="section level2" number="8.1">
<h2><span class="header-section-number">8.1</span> Comparison of classification / linear model</h2>
</div>
<div id="compared-linear-model-with-median" class="section level2" number="8.2">
<h2><span class="header-section-number">8.2</span> Compared linear model with median</h2>
<div id="skewed-data---inference" class="section level3" number="8.2.1">
<h3><span class="header-section-number">8.2.1</span> Skewed Data - Inference</h3>
<p>In one example, a skewed distribution was transformed prior to conducting the analysis with a regression tree. Another approach could be to use a more robust statistic such as the median. One limitation of the median, is that a linear regression model as we have covered so far, does not allow you to fit the model while using the median.</p>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb236-1"><a href="prediction-for-individuals.html#cb236-1" aria-hidden="true"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb236-2"><a href="prediction-for-individuals.html#cb236-2" aria-hidden="true"></a><span class="kw">library</span>(ggformula)</span>
<span id="cb236-3"><a href="prediction-for-individuals.html#cb236-3" aria-hidden="true"></a><span class="kw">library</span>(mosaic)</span>
<span id="cb236-4"><a href="prediction-for-individuals.html#cb236-4" aria-hidden="true"></a><span class="kw">library</span>(broom)</span>
<span id="cb236-5"><a href="prediction-for-individuals.html#cb236-5" aria-hidden="true"></a><span class="kw">library</span>(statthink)</span>
<span id="cb236-6"><a href="prediction-for-individuals.html#cb236-6" aria-hidden="true"></a></span>
<span id="cb236-7"><a href="prediction-for-individuals.html#cb236-7" aria-hidden="true"></a><span class="co"># Set theme for plots</span></span>
<span id="cb236-8"><a href="prediction-for-individuals.html#cb236-8" aria-hidden="true"></a><span class="kw">theme_set</span>(<span class="kw">theme_statthinking</span>())</span>
<span id="cb236-9"><a href="prediction-for-individuals.html#cb236-9" aria-hidden="true"></a></span>
<span id="cb236-10"><a href="prediction-for-individuals.html#cb236-10" aria-hidden="true"></a>college_score &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;https://raw.githubusercontent.com/lebebr01/statthink/master/data-raw/College-scorecard-clean.csv&quot;</span>, <span class="dt">guess_max =</span> <span class="dv">10000</span>)</span>
<span id="cb236-11"><a href="prediction-for-individuals.html#cb236-11" aria-hidden="true"></a><span class="kw">head</span>(college_score)</span></code></pre></div>
<pre><code>## [90m# A tibble: 6 x 17[39m
##   instnm city  stabbr preddeg region locale adm_rate actcmmid  ugds costt4_a
##   [3m[90m&lt;chr&gt;[39m[23m  [3m[90m&lt;chr&gt;[39m[23m [3m[90m&lt;chr&gt;[39m[23m  [3m[90m&lt;chr&gt;[39m[23m   [3m[90m&lt;chr&gt;[39m[23m  [3m[90m&lt;chr&gt;[39m[23m     [3m[90m&lt;dbl&gt;[39m[23m    [3m[90m&lt;dbl&gt;[39m[23m [3m[90m&lt;dbl&gt;[39m[23m    [3m[90m&lt;dbl&gt;[39m[23m
## [90m1[39m Alabaâ€¦ Normâ€¦ AL     Bachelâ€¦ Southâ€¦ City:â€¦    0.903       18  [4m4[24m824    [4m2[24m[4m2[24m886
## [90m2[39m Univeâ€¦ Birmâ€¦ AL     Bachelâ€¦ Southâ€¦ City:â€¦    0.918       25 [4m1[24m[4m2[24m866    [4m2[24m[4m4[24m129
## [90m3[39m Univeâ€¦ Huntâ€¦ AL     Bachelâ€¦ Southâ€¦ City:â€¦    0.812       28  [4m6[24m917    [4m2[24m[4m2[24m108
## [90m4[39m Alabaâ€¦ Montâ€¦ AL     Bachelâ€¦ Southâ€¦ City:â€¦    0.979       18  [4m4[24m189    [4m1[24m[4m9[24m413
## [90m5[39m The Uâ€¦ Tuscâ€¦ AL     Bachelâ€¦ Southâ€¦ City:â€¦    0.533       28 [4m3[24m[4m2[24m387    [4m2[24m[4m8[24m836
## [90m6[39m Auburâ€¦ Montâ€¦ AL     Bachelâ€¦ Southâ€¦ City:â€¦    0.825       22  [4m4[24m211    [4m1[24m[4m9[24m892
## [90m# â€¦ with 7 more variables: costt4_p [3m[90m&lt;dbl&gt;[90m[23m, tuitionfee_in [3m[90m&lt;dbl&gt;[90m[23m,[39m
## [90m#   tuitionfee_out [3m[90m&lt;dbl&gt;[90m[23m, debt_mdn [3m[90m&lt;dbl&gt;[90m[23m, grad_debt_mdn [3m[90m&lt;dbl&gt;[90m[23m, female [3m[90m&lt;dbl&gt;[90m[23m,[39m
## [90m#   bachelor_degree [3m[90m&lt;dbl&gt;[90m[23m[39m</code></pre>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb238-1"><a href="prediction-for-individuals.html#cb238-1" aria-hidden="true"></a>adm_model &lt;-<span class="st"> </span><span class="kw">lm</span>(adm_rate <span class="op">~</span><span class="st"> </span>preddeg, <span class="dt">data =</span> college_score)</span>
<span id="cb238-2"><a href="prediction-for-individuals.html#cb238-2" aria-hidden="true"></a><span class="kw">coef</span>(adm_model)</span></code></pre></div>
<pre><code>##               (Intercept)    preddegBachelor Degree preddegCertificate Degree 
##                0.72296993               -0.05170254                0.02193828</code></pre>
<p>Prior to doing the median, we can bootstrap the mean difference from the model above.</p>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb240-1"><a href="prediction-for-individuals.html#cb240-1" aria-hidden="true"></a>resample_admrate &lt;-<span class="st"> </span><span class="cf">function</span>(...) {</span>
<span id="cb240-2"><a href="prediction-for-individuals.html#cb240-2" aria-hidden="true"></a>  college_resample &lt;-<span class="st"> </span>college_score <span class="op">%&gt;%</span></span>
<span id="cb240-3"><a href="prediction-for-individuals.html#cb240-3" aria-hidden="true"></a><span class="st">    </span><span class="kw">sample_n</span>(<span class="kw">nrow</span>(college_score), <span class="dt">replace =</span> <span class="ot">TRUE</span>)</span>
<span id="cb240-4"><a href="prediction-for-individuals.html#cb240-4" aria-hidden="true"></a></span>
<span id="cb240-5"><a href="prediction-for-individuals.html#cb240-5" aria-hidden="true"></a>  college_resample <span class="op">%&gt;%</span></span>
<span id="cb240-6"><a href="prediction-for-individuals.html#cb240-6" aria-hidden="true"></a><span class="st">    </span><span class="kw">lm</span>(adm_rate <span class="op">~</span><span class="st"> </span>preddeg, <span class="dt">data =</span> .) <span class="op">%&gt;%</span></span>
<span id="cb240-7"><a href="prediction-for-individuals.html#cb240-7" aria-hidden="true"></a><span class="st">    </span><span class="kw">tidy</span>(.) <span class="op">%&gt;%</span></span>
<span id="cb240-8"><a href="prediction-for-individuals.html#cb240-8" aria-hidden="true"></a><span class="st">    </span><span class="kw">select</span>(term, estimate)</span>
<span id="cb240-9"><a href="prediction-for-individuals.html#cb240-9" aria-hidden="true"></a>}</span>
<span id="cb240-10"><a href="prediction-for-individuals.html#cb240-10" aria-hidden="true"></a></span>
<span id="cb240-11"><a href="prediction-for-individuals.html#cb240-11" aria-hidden="true"></a><span class="kw">resample_admrate</span>()</span></code></pre></div>
<pre><code>## [90m# A tibble: 3 x 2[39m
##   term                      estimate
##   [3m[90m&lt;chr&gt;[39m[23m                        [3m[90m&lt;dbl&gt;[39m[23m
## [90m1[39m (Intercept)                 0.727 
## [90m2[39m preddegBachelor Degree     -[31m0[39m[31m.[39m[31m0[39m[31m49[4m8[24m[39m
## [90m3[39m preddegCertificate Degree   0.011[4m1[24m</code></pre>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb242-1"><a href="prediction-for-individuals.html#cb242-1" aria-hidden="true"></a>admrate_coef &lt;-<span class="st"> </span><span class="kw">map</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10000</span>, resample_admrate) <span class="op">%&gt;%</span></span>
<span id="cb242-2"><a href="prediction-for-individuals.html#cb242-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">bind_rows</span>()</span>
<span id="cb242-3"><a href="prediction-for-individuals.html#cb242-3" aria-hidden="true"></a></span>
<span id="cb242-4"><a href="prediction-for-individuals.html#cb242-4" aria-hidden="true"></a>admrate_coef <span class="op">%&gt;%</span></span>
<span id="cb242-5"><a href="prediction-for-individuals.html#cb242-5" aria-hidden="true"></a><span class="st">  </span><span class="kw">gf_density</span>(<span class="op">~</span><span class="st"> </span>estimate) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb242-6"><a href="prediction-for-individuals.html#cb242-6" aria-hidden="true"></a><span class="st">  </span><span class="kw">gf_facet_wrap</span>(<span class="op">~</span><span class="st"> </span>term, <span class="dt">scales =</span> <span class="st">&#39;free_x&#39;</span>)</span></code></pre></div>
<p><img src="08-prediction_files/figure-html/replicate-adm-rate-1.png" width="672" /></p>
</div>
<div id="bootstrap-median" class="section level3" number="8.2.2">
<h3><span class="header-section-number">8.2.2</span> Bootstrap Median</h3>
<p>he bootstrap for the median will take much of a similar process as before, the major difference being that a model will not be fitted. Instead, we will compute statistics for the median of each group, take differences of the median to represent the median difference between the groups and then replicate.</p>
<ol style="list-style-type: decimal">
<li>Resample the observed data available, with replacement</li>
<li>Estimate median for each group.</li>
<li>Calculate median difference between the groups</li>
<li>Repeat steps 1 - 3 many times</li>
<li>Explore the distribution of median differences from the many resampled data sets.</li>
</ol>
<div class="sourceCode" id="cb243"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb243-1"><a href="prediction-for-individuals.html#cb243-1" aria-hidden="true"></a>resample_admrate_median &lt;-<span class="st"> </span><span class="cf">function</span>(...) {</span>
<span id="cb243-2"><a href="prediction-for-individuals.html#cb243-2" aria-hidden="true"></a>  college_resample &lt;-<span class="st"> </span>college_score <span class="op">%&gt;%</span></span>
<span id="cb243-3"><a href="prediction-for-individuals.html#cb243-3" aria-hidden="true"></a><span class="st">    </span><span class="kw">sample_n</span>(<span class="kw">nrow</span>(college_score), <span class="dt">replace =</span> <span class="ot">TRUE</span>)</span>
<span id="cb243-4"><a href="prediction-for-individuals.html#cb243-4" aria-hidden="true"></a></span>
<span id="cb243-5"><a href="prediction-for-individuals.html#cb243-5" aria-hidden="true"></a>  med_est &lt;-<span class="st"> </span>college_resample <span class="op">%&gt;%</span></span>
<span id="cb243-6"><a href="prediction-for-individuals.html#cb243-6" aria-hidden="true"></a><span class="st">    </span><span class="kw">df_stats</span>(adm_rate <span class="op">~</span><span class="st"> </span>preddeg, median) <span class="op">%&gt;%</span></span>
<span id="cb243-7"><a href="prediction-for-individuals.html#cb243-7" aria-hidden="true"></a><span class="st">    </span><span class="kw">spread</span>(preddeg, median_adm_rate)</span>
<span id="cb243-8"><a href="prediction-for-individuals.html#cb243-8" aria-hidden="true"></a></span>
<span id="cb243-9"><a href="prediction-for-individuals.html#cb243-9" aria-hidden="true"></a>  <span class="kw">names</span>(med_est) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Associate&quot;</span>, <span class="st">&quot;Bachelor&quot;</span>, <span class="st">&quot;Certificate&quot;</span>)</span>
<span id="cb243-10"><a href="prediction-for-individuals.html#cb243-10" aria-hidden="true"></a>  </span>
<span id="cb243-11"><a href="prediction-for-individuals.html#cb243-11" aria-hidden="true"></a>  med_est <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb243-12"><a href="prediction-for-individuals.html#cb243-12" aria-hidden="true"></a><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">bachelor_associate =</span> Bachelor <span class="op">-</span><span class="st"> </span>Associate,</span>
<span id="cb243-13"><a href="prediction-for-individuals.html#cb243-13" aria-hidden="true"></a>           <span class="dt">certificate_associate =</span> Certificate <span class="op">-</span><span class="st"> </span>Associate,</span>
<span id="cb243-14"><a href="prediction-for-individuals.html#cb243-14" aria-hidden="true"></a>           <span class="dt">bachelor_certificate =</span> Bachelor <span class="op">-</span><span class="st"> </span>Certificate) <span class="op">%&gt;%</span></span>
<span id="cb243-15"><a href="prediction-for-individuals.html#cb243-15" aria-hidden="true"></a><span class="st">    </span><span class="kw">gather</span>(Associate<span class="op">:</span>bachelor_certificate, </span>
<span id="cb243-16"><a href="prediction-for-individuals.html#cb243-16" aria-hidden="true"></a>                 <span class="dt">key =</span> <span class="st">&quot;Term&quot;</span>, </span>
<span id="cb243-17"><a href="prediction-for-individuals.html#cb243-17" aria-hidden="true"></a>                 <span class="dt">value =</span> <span class="st">&quot;Median_Difference&quot;</span>)</span>
<span id="cb243-18"><a href="prediction-for-individuals.html#cb243-18" aria-hidden="true"></a>}</span>
<span id="cb243-19"><a href="prediction-for-individuals.html#cb243-19" aria-hidden="true"></a></span>
<span id="cb243-20"><a href="prediction-for-individuals.html#cb243-20" aria-hidden="true"></a><span class="kw">resample_admrate_median</span>()</span></code></pre></div>
<pre><code>##                    Term Median_Difference
## 1             Associate            0.7826
## 2              Bachelor            0.6901
## 3           Certificate            0.8000
## 4    bachelor_associate           -0.0925
## 5 certificate_associate            0.0174
## 6  bachelor_certificate           -0.1099</code></pre>
<div class="sourceCode" id="cb245"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb245-1"><a href="prediction-for-individuals.html#cb245-1" aria-hidden="true"></a>admrate_median &lt;-<span class="st"> </span><span class="kw">map</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10000</span>, resample_admrate_median) <span class="op">%&gt;%</span></span>
<span id="cb245-2"><a href="prediction-for-individuals.html#cb245-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">bind_rows</span>()</span>
<span id="cb245-3"><a href="prediction-for-individuals.html#cb245-3" aria-hidden="true"></a></span>
<span id="cb245-4"><a href="prediction-for-individuals.html#cb245-4" aria-hidden="true"></a>admrate_median <span class="op">%&gt;%</span></span>
<span id="cb245-5"><a href="prediction-for-individuals.html#cb245-5" aria-hidden="true"></a><span class="st">    </span><span class="kw">filter</span>(Term <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;bachelor_associate&#39;</span>, <span class="st">&#39;certificate_associate&#39;</span>, <span class="st">&#39;bachelor_certificate&#39;</span>)) <span class="op">%&gt;%</span></span>
<span id="cb245-6"><a href="prediction-for-individuals.html#cb245-6" aria-hidden="true"></a><span class="st">    </span><span class="kw">gf_density</span>(<span class="op">~</span><span class="st"> </span>Median_Difference) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb245-7"><a href="prediction-for-individuals.html#cb245-7" aria-hidden="true"></a><span class="st">    </span><span class="kw">gf_facet_wrap</span>(<span class="op">~</span><span class="st"> </span>Term, <span class="dt">scales =</span> <span class="st">&#39;free_x&#39;</span>)</span></code></pre></div>
<p><img src="08-prediction_files/figure-html/replicate-adm-median-1.png" width="672" /></p>

</div>
</div>
</div>

















            </section>

          </div>
        </div>
      </div>
<a href="estimation-bootstrap-uncertainty.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
